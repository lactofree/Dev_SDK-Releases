HIVE SDK는 종속성있는 외부라이브러리를 포함해 배포합니다. 개발 환경이 Android이면 Gradle, iOS면 CocoaPods를 이용해 필요한 라이브러리를 설치하도록 안내합니다. Gradle과 CocoaPods에서 최신 버전을 이용할 수 없거나 별개로 관리해야 하는 라이브러리일 경우에는 SDK에 포함해 배포합니다. 본 페이지와 HIVE SDK에서 제공하는 라이브러리를 제외한 외부 플러그인이나 다른 라이브러리를 사용할 경우 버전 충돌이 발생해 정상적으로 빌드하지 못할 수 있으니 유의하세요.


## 다운로드

<table>
<thead>
<tr>
  <th>배포일</th>
  <th>다운로드</th>
  <th>지원 엔진</th>
</tr>
</thead>
<tbody>
<tr>
<td>2020-06-xx</td>
<td><a href="https://developers.withhive.com/down.php?SDK=HIVE-SDK-Manager_v1.1.0.zip">HIVE-SDK-Manager_v1.1.0.zip</a></td>
<td>Unity 2018+</td>
</tr>
</tbody>
</table>


## 적용하기

<h4 id="prerequisites">기본 요건</h4>

* Unity 2018+
* Xcode 11+
* Gradle
* CocoaPods




<h4 id="unity">Unity로 적용하기</h4>
HIVE SDK는 UnityPackage 버전에 External-Dependency-Manager for Unity(이하 EDM4U) 패키지를 포함하여 배포합니다. EDM4U는 Unity 빌드 환경에 Google이 배포하는 PlayService 라이브러리를 쉽게 적용하기 위해 개발되었고, Google이 배포하는 라이브러리 뿐만 아니라 Gradle과 CocoaPods를 이용해 배포하는 라이브러리도 관리할 수 있도록 지원합니다. HIVE SDK와 별개로 Com2uS 모듈은 별도 UnityPackage 형태로 EDM4U 패키지를 배포합니다.





<h4 id="wounity">Unity를 사용하지 않고 적용하기</h4>
Unity를 제외한 개발환경에서 HIVE SDK를 사용할 경우 Gradle과 CocoaPods 설정으로 외부라이브러리를 관리할 수 있습니다. 

**Gradle**
다음은 HIVE SDK 샘플 프로젝트에 포함된 build.gradle 파일의 일부입니다.

<pre>
dependencies {
   implementation fileTree(include: ['*.jar'], dir: 'libs')
   implementation fileTree(include: ['*.aar'], dir: 'libs')
 
   def multidex_version = "2.0.1"
   implementation "androidx.multidex:multidex:$multidex_version"
 
   // FCM설정
   implementation 'com.google.firebase:firebase-core:16.0.0'
   implementation 'com.google.firebase:firebase-iid:16.0.0'
   implementation 'com.google.firebase:firebase-messaging:17.0.0'
 
   // Facebook Dependency
   implementation 'com.android.support:appcompat-v7:26.1.0'
   implementation 'com.android.support:cardview-v7:26.1.0'
   implementation 'com.android.support:customtabs:26.1.0'
   implementation 'com.android.support:support-annotations:26.1.0'
 
   // Google Play Games, Auth
   implementation 'com.google.android.gms:play-services-games:15.0.1'
   implementation 'com.google.android.gms:play-services-auth:15.0.1'
   implementation 'androidx.constraintlayout:constraintlayout:1.1.3'
 
   implementation 'com.linecorp:linesdk:5.3.0'
   implementation 'com.appsflyer:af-android-sdk:5.0.0'
   implementation 'com.android.installreferrer:installreferrer:1.0'
   implementation ('com.facebook.android:facebook-core:6.1.0') {
       exclude group: "com.android.installreferrer", module: 'installreferrer'
   }
   implementation 'com.facebook.android:facebook-common:6.1.0'
   implementation 'com.facebook.android:facebook-login:6.1.0'
   implementation 'com.facebook.android:facebook-share:6.1.0'
}
</pre>

Unix 셸인 Bash에서 명령줄(command line)로 Gradle을 실행하는 방법은 다음과 같습니다. 

<pre>
> ./gradlew build
>$ ./gradlew build
</pre>

**CocoaPods**
다음은 HIVE SDK 샘플 프로젝트에 포함된 Podfile 파일의 일부입니다.


&nbsp;

<h5 id="gradle">Gradle로 적용하기</h4>
Unity 환경에서 EDM4U를 처음 사용하는 PC라면 구글 라이선스 이용 동의를 요구하는 경우가 있습니다. 빌드 PC 혹은 Jenkins 환경에서 Google 라이선스 이용에 대한 동의를 수행해야 하므로 해당 환경에서 1회 이상 확인해야 합니다.
HIVE 또는 외부 라이브러리에서 AndroidX 라이브러리와 구 Android Support 라이브러리를 함께 사용하는 경우 Jetpack 라이브러리가 필요합니다. Jetpack 라이브러리 기능을 활성화하면 AndroidX와 Android Support 라이브러리의 호환 문제를 해결할 수 있습니다.
<a href="http://developers.withhive.com/wp-content/uploads/2020/05/Admodule_library_gradle.png"><img class="wp-image-18631 alignnone" src="http://developers.withhive.com/wp-content/uploads/2020/05/Admodule_library_gradle.png" alt="" width="300" /></a>
Kotlin 라이브러리가 포함된 경우, JDK 1.8 이상 버전이 필요합니다. 위 설정이 필요한 HIVE SDK를 사용 중이라면 HIVE SDK Unity 패키지를 설치할 때 해당 설정도 자동 추가되므로 별도 진행할 내용이 없습니다.

&nbsp;


<h5 id="cocoapods">CocoaPods으로 적용하기</h4>
CocoaPods으로 배포되는 라이브러리의 특징은 다음과 같습니다. 

* 동적 라이브러리 형태로 제공되는 경우가 있습니다.
* Bitcode 미지원 라이브러리가 포함되면 최종 빌드 산출물 역시 Bitcode를 지원하지 않습니다.

xcconfig 파일로 프로젝트 설정을 구성하는 경우, 빌드 타겟의 xcconfig 파일을 설정 및 선택하여 CocoaPods 라이브러리와 연결합니다. 빌드 타겟에 이미 지정된 xcconfig 파일이 있다면 아래와 같은 경고메시지가 나타납니다.

[!] CocoaPods did not set the base configuration of your project because your project already has a custom config set. In order for CocoaPods integration to work at all, please either set the base configurations of the target `HIVE_SDK` to `Target Support Files/Pods-HIVE_SDK/Pods-HIVE_SDK.debug.xcconfig` or include the `Target Support Files/Pods-HIVE_SDK/Pods-HIVE_SDK.debug.xcconfig` in your build configuration.

경고 메시지를 해결하려면 CocoaPods이 빌드 타겟의 xcconfig 파일을 기존에 지정된 xcconfig 파일에 포함해야 합니다. 아래 샘플 코드를 참고하세요.

<pre>
#include "Shared/Platform/iOS.xcconfig"
#include "Shared/Target/Application.xcconfig"
#include "Shared/Version.xcconfig"
 
PRODUCT_NAME = HIVE_SDK_Sample
PRODUCT_BUNDLE_IDENTIFIER = com.com2us.hivesdk.normal.freefull.apple.global.ios.universal
CURRENT_PROJECT_VERSION = $(HIVE_SDK_PROJECT_VERSION)
INFOPLIST_FILE = $(SRCROOT)/Sources/Info.plist
DEVELOPMENT_TEAM = MMVTCXSS58
CODE_SIGN_STYLE = Automatic
APP_FACEBOOK_ID = 1809615065921877
CODE_SIGN_ENTITLEMENTS = Configurations/Hive_v2_SDK_sample.entitlements
 
#include "../../Pods/Target Support Files/Pods-HIVE_SDK_Sample/Pods-HIVE_SDK_Sample.release.xcconfig"
</pre>
